<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="search" type="application/opensearchdescription+xml" title="Plausible docs" href="/docs/opensearch.xml">
<script src="https://plausible.io/js/script.js" defer="defer" data-domain="plausible.io"></script>
<script src="https://plausible.io/test/js/script.beacon.local.js" defer="defer" data-domain="plausible.io" data-api="https://plausible.io/test/api/event"></script><title data-react-helmet="true">Getting started | Plausible docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://plausible.io/docs/self-hosting"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Getting started | Plausible docs"><meta data-react-helmet="true" name="description" content="The easiest way to get started with Plausible is with our official managed service in the Cloud. It takes 2 minutes to start counting your stats with a worldwide CDN, high availability, backups, security and maintenance all done for you by us. Our managed hosting can save a substantial amount of developer time and resources. For most sites this ends up being the best value option and the revenue goes to funding the maintenance and further development of Plausible. So you’ll be supporting open source software and getting a great service! The section below is for self-hosting our analytics on your server and managing your infrastructure."><meta data-react-helmet="true" property="og:description" content="The easiest way to get started with Plausible is with our official managed service in the Cloud. It takes 2 minutes to start counting your stats with a worldwide CDN, high availability, backups, security and maintenance all done for you by us. Our managed hosting can save a substantial amount of developer time and resources. For most sites this ends up being the best value option and the revenue goes to funding the maintenance and further development of Plausible. So you’ll be supporting open source software and getting a great service! The section below is for self-hosting our analytics on your server and managing your infrastructure."><link data-react-helmet="true" rel="icon" href="/docs/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://plausible.io/docs/self-hosting"><link data-react-helmet="true" rel="alternate" href="https://plausible.io/docs/self-hosting" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://plausible.io/docs/self-hosting" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/docs/assets/css/styles.36a33fd8.css">
<link rel="preload" href="/docs/assets/js/runtime~main.28eaa760.js" as="script">
<link rel="preload" href="/docs/assets/js/main.62d8b17d.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://plausible.io/" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/docs/img/logo.svg" alt="Plausible logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/docs/img/logo.svg" alt="Plausible logo" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">Plausible Analytics</b></a><a class="navbar__item navbar__link" target="_self" href="/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/plausible/docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="searchBox_1Kl_"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/">Get Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/website-settings">Website Settings</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/guided-tour">Dashboard</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/goal-conversions">Goal Conversions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/proxy/introduction">Adblockers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/stats-api">API</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/change-email">Account Settings</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/trial-to-paid">Manage Subscription</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_2fq0" href="/docs/self-hosting">Self-Hosting</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/self-hosting">Getting started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/self-hosting-configuration">Configuration options</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/contribute">Contribute</a></div></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Getting started</h1></header><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The easiest way to get started with Plausible is with <a href="https://plausible.io/#pricing" target="_blank" rel="noopener noreferrer">our official managed service in the Cloud</a>. It takes 2 minutes to start counting your stats with a worldwide CDN, high availability, backups, security and maintenance all done for you by us. Our managed hosting can save a substantial amount of developer time and resources. For most sites this ends up being the best value option and the revenue goes to funding the maintenance and further development of Plausible. So you’ll be supporting open source software and getting a great service! The section below is for self-hosting our analytics on your server and managing your infrastructure. </p></div></div><p>Plausible Analytics is designed to be self-hosted via Docker. You don&#x27;t have to be a Docker expert
to launch your own instance of Plausible Analytics. You should have a basic understanding of the command-line
and networking to successfully set up your own instance of Plausible Analytics.</p><blockquote><p>NB: If you hit a snag with the setup, you can reach out to us on the <a href="https://github.com/plausible/analytics/discussions" target="_blank" rel="noopener noreferrer">forum</a>. If you think something could be better explained in the docs, please open a PR on Github so the next person has a nicer experience. Happy hosting!</p></blockquote><h2 class="anchor anchorWithStickyNavbar_31ik" id="version-management">Version management<a class="hash-link" href="#version-management" title="Direct link to heading">​</a></h2><p>Plausible follows <a href="https://semver.org/" target="_blank" rel="noopener noreferrer">semantic versioning</a>: <code>MAJOR.MINOR.PATCH</code></p><p>You can find available Plausible versions on <a href="https://hub.docker.com/r/plausible/analytics" target="_blank" rel="noopener noreferrer">DockerHub</a>. The default
<code>latest</code> tag refers to the latest stable release tag. You can also pin your version:</p><ul><li><code>plausible/analytics:v1</code> pins the major version to <code>1</code> but allows minor and patch version upgrades</li><li><code>plausible/analytics:v1.2</code> pins the minor version to <code>1.2</code> but allows only patch upgrades</li></ul><p>None of the functionality is backported to older versions. If you wish to get the latest bug fixes and security
updates you need to upgrade to a newer version.</p><p>Version changes are documented in our <a href="https://github.com/plausible/analytics/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer">Changelog</a>.
Please note that database schema changes require running migrations when you&#x27;re upgrading. However, we consider the schema
as an internal API and therefore schema changes are not considered a breaking change.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="requirements">Requirements<a class="hash-link" href="#requirements" title="Direct link to heading">​</a></h2><p>The only thing you need to install Plausible Analytics is a server with Docker installed. The server must have a CPU with x86_64 architecture
and support for SSE 4.2 instructions. We&#x27;ve tested this on <a href="https://m.do.co/c/91569eca0213" target="_blank" rel="noopener noreferrer">Digital Ocean</a> (affiliate link)
but any hosting provider works. If your server doesn&#x27;t come with Docker pre-installed, you can follow <a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener noreferrer">their docs</a> to install it.</p><p>To make your Plausible instance accessible on a (sub)domain, you also need to be able to edit your DNS. Plausible is not currently
designed for subfolder installations.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="up-and-running">Up and running<a class="hash-link" href="#up-and-running" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_31ik" id="1-clone-the-hosting-repo">1. Clone the hosting repo<a class="hash-link" href="#1-clone-the-hosting-repo" title="Direct link to heading">​</a></h3><p>To get started quickly, download the <a href="https://github.com/plausible/hosting" target="_blank" rel="noopener noreferrer">plausible/hosting</a> repo as a starting point. It has everything you need
to boot up your own Plausible server.</p><div class="codeBlockContainer_K1bP language-bash theme-code-block"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> clone https://github.com/plausible/hosting</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> hosting</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Alternatively, you can download and extract the repo as a tarball</p><div class="codeBlockContainer_K1bP language-bash theme-code-block"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">curl</span><span class="token plain"> -L https://github.com/plausible/hosting/archive/master.tar.gz </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">tar</span><span class="token plain"> -xz</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> hosting-master</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>In the downloaded directory you&#x27;ll find two important files:</p><ul><li><code>docker-compose.yml</code> - installs and orchestrates networking between your Plausible server, Postgres database, Clickhouse database (for stats), and an SMTP server. It comes with sensible defaults that are ready to go, although you&#x27;re free to tweak the settings if you wish.</li><li><code>plausible-conf.env</code> - configures the Plausible server itself. Full configuration options are documented <a href="/docs/self-hosting-configuration">here</a>.</li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="2-add-required-configuration">2. Add required configuration<a class="hash-link" href="#2-add-required-configuration" title="Direct link to heading">​</a></h3><p>The configuration file, <code>plausible-conf.env</code>, has placeholders for the required parameters. To set the parameters you&#x27;ll first need a random 64-character secret key which will be used to secure the app. Here&#x27;s a simple way to generate one:</p><div class="codeBlockContainer_K1bP language-bash theme-code-block"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ openssl rand -base64 </span><span class="token number" style="color:rgb(247, 140, 108)">64</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">tr</span><span class="token plain"> -d </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;</span><span class="token string entity" style="color:rgb(195, 232, 141)">\n</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Now edit <code>plausible-conf.env</code> and set <code>SECRET_KEY_BASE</code> to your secret key.</p><p>Next, set your <code>ADMIN_USER</code> credentials to your own choices.</p><p>Finally, enter the <code>BASE_URL</code> for your app. It should be the base url where this instance is accessible, including the scheme (eg. <code>http://</code> or <code>https://</code>), the domain name, and optionally a port. If no port is specified the default <code>8000</code> will be used. Plausible is not currently designed for subfolder installations so please do not add a path component to the base url.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="3-start-the-server">3. Start the server<a class="hash-link" href="#3-start-the-server" title="Direct link to heading">​</a></h3><p>Once you&#x27;ve entered your secret key base, base url and admin credentials, you&#x27;re ready to start up the server:</p><div class="codeBlockContainer_K1bP language-bash theme-code-block"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ docker-compose up -d</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>When you run this command for the first time, it does the following:</p><ul><li>Creates a Postgres database for user data</li><li>Creates a Clickhouse database for stats</li><li>Runs migrations on both databases to prepare the schema</li><li>Creates an admin account (which is just a normal account with a generous 100 years of free trial)</li><li>Starts the server on port 8000</li></ul><p>You can now navigate to <code>http://{hostname}:8000</code> and see the login screen.</p><p>When you first log in with your admin credentials, you will be prompted to
enter a verification code which has been sent to your email. Please configure your
server for SMTP to receive this email. <a href="https://plausible.io/docs/self-hosting-configuration#mailersmtp-setup" target="_blank" rel="noopener noreferrer">Here are Plausible&#x27;s SMTP configuration
options</a>.
Otherwise, run this command to verify all users in the database:</p><div class="codeBlockContainer_K1bP language-bash theme-code-block"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ docker </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">exec</span><span class="token plain"> hosting_plausible_db_1 psql -U postgres -d plausible_db -c </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;UPDATE users SET email_verified = true;&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><blockquote><p>Something not working? Please reach out on our <a href="https://github.com/plausible/analytics/discussions/categories/self-hosted-support" target="_blank" rel="noopener noreferrer">forum</a> for troubleshooting.</p></blockquote><p>The Plausible server itself does not perform SSL termination. It only runs on unencrypted HTTP.  If you want to run on HTTPS you also need to set up a reverse proxy in front of the server. We have instructions and examples of how to do that below.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="3-updating-plausible">3. Updating Plausible<a class="hash-link" href="#3-updating-plausible" title="Direct link to heading">​</a></h3><p>Plausible is updated regularly, but it is up to you to apply these updates on your server.
By virtue of using Docker, these updates are safe and easy to apply.</p><div class="codeBlockContainer_K1bP language-bash theme-code-block"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ docker-compose down --remove-orphans</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ docker-compose pull plausible</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ docker-compose up -d</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The self-hosted version is somewhat of a LTS, only getting the changes after they have been battle tested on the hosted version.
If you want features as soon as they are available, consider becoming a hosted customer.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="optional-extras">Optional extras<a class="hash-link" href="#optional-extras" title="Direct link to heading">​</a></h2><p>At this stage, you should have a basic installation of Plausible going. With some extra configuration, you can add functionality to
your instance:</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="1-maxmind-geolocation-database">1. MaxMind geolocation database<a class="hash-link" href="#1-maxmind-geolocation-database" title="Direct link to heading">​</a></h3><p>Plausible uses the country database created by <a href="https://db-ip.com/" target="_blank" rel="noopener noreferrer">dbip</a> for enriching analytics data with visitor countries. The database is shipped with Plausible and country data collection happens automatically.</p><p>Optionally, you can provide a different database. For example, you can use <a href="https://www.maxmind.com" target="_blank" rel="noopener noreferrer">MaxMind</a> services. Their end-user license does not make it very easy to just package the database along with an open-source product.</p><p>This is why, to use MaxMind, you need to create an account <a href="https://www.maxmind.com/en/geolite2/signup" target="_blank" rel="noopener noreferrer">here</a>. Once you have your account details, open the <code>geoip/geoip.conf</code> file and enter your <code>GEOIPUPDATE_ACCOUNT_ID</code> and <code>GEOIPUPDATE_LICENSE_KEY</code>. Then, combine both the base docker-compose file with the one in the geoip folder:</p><div class="codeBlockContainer_K1bP language-bash theme-code-block"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ docker-compose -f docker-compose.yml -f geoip/docker-compose.geoip.yml up -d</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The <code>geoip/docker-compose.geoip.yml</code> file downloads and updates the country database automatically, making it available to the <code>plausible</code>
container.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="2-reverse-proxy">2. Reverse proxy<a class="hash-link" href="#2-reverse-proxy" title="Direct link to heading">​</a></h3><p>By default, Plausible runs on unencrypted HTTP on port 8000. We recommend running it on HTTPS behind a reverse proxy of some sort.
You may or may not already be running a reverse proxy on your host, let&#x27;s look at both options:</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="no-existing-reverse-proxy">No existing reverse proxy<a class="hash-link" href="#no-existing-reverse-proxy" title="Direct link to heading">​</a></h4><p>If your DNS is managed by a service that offers a proxy option with automatic SSL management, feel free to use that. We&#x27;ve successfully
used Cloudflare as a reverse proxy in front of Plausible Self Hosted and it works well. </p><p>Alternatively, you can run your own Caddy server as a reverse proxy. This way your SSL certificate will be stored on the
host machine and managed by Let&#x27;s Encrypt. The Caddy server will expose port 443, terminate SSL traffic and proxy the requests to your
Plausible server. <a href="https://github.com/plausible/hosting/tree/master/reverse-proxy#no-existing-reverse-proxy" target="_blank" rel="noopener noreferrer">Full instructions</a>.</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="existing-reverse-proxy">Existing reverse proxy<a class="hash-link" href="#existing-reverse-proxy" title="Direct link to heading">​</a></h4><p>If you&#x27;re already running a reverse proxy, the most important things to note are:</p><ol><li>Configure the virtual host to match the <code>BASE_URL</code> in your plausible configuration</li><li>Proxy the traffic to <code>127.0.0.1:8000</code> or <code>{ip-address}:8000</code> if running on a remote machine</li><li>Ensure the <code>X-Forwarded-For</code> is set correctly</li></ol><p>The most important thing to note with an existing reverse proxy is that the <code>X-Forwarded-For</code> header is set correctly. If the remote
client IP is not forwarded to the Plausible server, it cannot detect visitor countries and unique user tracking will be inaccurate.</p><p>In our hosting repo, you&#x27;ll find useful example configurations in case you&#x27;re already running <a href="https://github.com/plausible/hosting/tree/master/reverse-proxy#nginx" target="_blank" rel="noopener noreferrer">Nginx</a> or <a href="https://github.com/plausible/hosting/tree/master/reverse-proxy#traefik-2" target="_blank" rel="noopener noreferrer">Traefik 2</a>.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="3-external-databases">3. External Databases<a class="hash-link" href="#3-external-databases" title="Direct link to heading">​</a></h3><p>There are some caveats to consider when running your own databases:</p><h5 class="anchor anchorWithStickyNavbar_31ik" id="postgres">Postgres<a class="hash-link" href="#postgres" title="Direct link to heading">​</a></h5><p>The user needs the role superuser for setting up certain modules on the database
If the database already exists prior to running docker-compose up, please remove <code>&amp;&amp; /entrypoint.sh db createdb</code> in the command of the plausible service section inside docker-compose.yml. However, this will also prevent the Clickhouse database from being created, see below.</p><h5 class="anchor anchorWithStickyNavbar_31ik" id="clickhouse">Clickhouse<a class="hash-link" href="#clickhouse" title="Direct link to heading">​</a></h5><p>If you receive an error upon startup that for some reason the database does not exist, you can create it &#x27;manually&#x27; via this docker run:
make sure that --link, --net, --host, and the name of the db  receive the right parameter values according to the running setup</p><div class="codeBlockContainer_K1bP language-bash theme-code-block"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ docker run -it --net plausible_default --rm --link plausible_events_db_1:clickhouse-server yandex/clickhouse-client --host plausible_plausible_events_db_1  --query </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;CREATE DATABASE IF NOT EXISTS plausible_events_db&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Our only source of funding is our premium, managed service for running Plausible in the cloud. If you&#x27;re looking for an alternative way to support the project, we&#x27;ve put together some sponsorship packages. Maintaining open source software is a thankless, time-consuming job. We released our code on GitHub and made it easy to self-host on principle, not because it&#x27;s good business. If you&#x27;re self-hosting Plausible, <a href="https://github.com/sponsors/plausible" target="_blank" rel="noopener noreferrer">sponsoring us</a> is a great way to give back to the community and to contribute to the long-term sustainability of the project. Thank you for supporting independent creators of Free Open Source Software!</p></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/plausible/docs/edit/master/docs/self-hosting.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/billing"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Billing FAQ</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/self-hosting-configuration"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Configuration options</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#version-management" class="table-of-contents__link toc-highlight">Version management</a></li><li><a href="#requirements" class="table-of-contents__link toc-highlight">Requirements</a></li><li><a href="#up-and-running" class="table-of-contents__link toc-highlight">Up and running</a><ul><li><a href="#1-clone-the-hosting-repo" class="table-of-contents__link toc-highlight">1. Clone the hosting repo</a></li><li><a href="#2-add-required-configuration" class="table-of-contents__link toc-highlight">2. Add required configuration</a></li><li><a href="#3-start-the-server" class="table-of-contents__link toc-highlight">3. Start the server</a></li><li><a href="#3-updating-plausible" class="table-of-contents__link toc-highlight">3. Updating Plausible</a></li></ul></li><li><a href="#optional-extras" class="table-of-contents__link toc-highlight">Optional extras</a><ul><li><a href="#1-maxmind-geolocation-database" class="table-of-contents__link toc-highlight">1. MaxMind geolocation database</a></li><li><a href="#2-reverse-proxy" class="table-of-contents__link toc-highlight">2. Reverse proxy</a></li><li><a href="#3-external-databases" class="table-of-contents__link toc-highlight">3. External Databases</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Study</div><ul class="footer__items"><li class="footer__item"><a href="https://plausible.io/about" target="_blank" rel="noopener noreferrer" class="footer__link-item">About Plausible</a></li><li class="footer__item"><a href="https://plausible.io/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Read our blog</a></li><li class="footer__item"><a href="https://plausible.io/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Study the documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/plausible/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/plausiblehq" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://fosstodon.org/@plausible" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Mastodon<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://plausible.io/forum" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Explore</div><ul class="footer__items"><li class="footer__item"><a href="https://plausible.io/feedback" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Give us feedback<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://plausible.io/roadmap" target="_blank" rel="noopener noreferrer" class="footer__link-item">We have a public roadmap</a></li><li class="footer__item"><a href="https://plausible.io/plausible.io" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Check out the live demo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://plausible.io/status" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Status<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Plausible Analytics. Built with Docusaurus.</div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.28eaa760.js"></script>
<script src="/docs/assets/js/main.62d8b17d.js"></script>
</body>
</html>